## Информация об ИИ
  ![aire](https://github.com/feravolt/FDE.AI-docs/blob/master/aire.png?raw=true)

Как можно понять из названия FDE.AI - намекает на наличие реального ИИ. Смысл ИИ в том, что он будет понимать сценарии пользования устройством и исходя из этого подгонять различные настройки системы в реальном времени. Также логика ИИ тесно завязана на температуру устройства. Все действия ИИ пишутся в чат (лог fde.txt). Главный плюс ИИ - нет расхода энергии.
Что реализовано:

**GPU Turbo**:\
При запуске ИИ определит, может ли GPU Turbo работать на вашем устройстве и напишет об этом в лог. ИИ будет наблюдать за уровнем нагрузки на видеоускоритель. Если наблюдается высокая нагрузка в течении продолжительного времени, то ИИ поднимет частоты ускорителя до максимума на ~30 секунд до следующей проверки. Как только нагрузка падает, возвращаются стоковые значения. Это не увеличит фреймрейт, но сделает его более стабильным, потому что частотному регулировщику ускорителя не придется "прыгать" по частотам при смене нагрузки, что в итоге должно положительно сказаться на стабильности FPS. В логике нет привязки к имени приложения - нагрузка GPU измеряется напрямую, не важно что его нагружает (игра, бенчмарк и т.п.), делая логику универсальной. GPU Turbo не будет конфликтовать со логикой от Huawei с таким же названием. При повышении температуры устройства повышается порог срабатывания GPU Turbo, чтобы избежать перегрева устройства.
Логика активна только при ВКЛ экране. При выключенном экране частоты возвращаются в стоковое значение. Поддерживается на большинстве видеоускорителей Adreno и Mali.

**Legacy GPU Turbo**:\
Данный режим определяется в случае если драйвер в ядре не предоставляет информации о нагрузке GPU. Отличием от обычного GPU Turbo является то, что ускорение будет происходить опираясь не на нагрузку GPU в реальном времени, а на наличие работы 'тяжелого' процесса/игры из списка #gamelist. Следовательно, для автоматической работы этого режима необходимо активировать опцию принудительного буста тяжелых игр в настройках. Вы также можете активировать постоянный режим Legacy GPU turbo вручную переключив режим ИИ на производительность.
Логика активна только при ВКЛ экране. При выключенном экране частоты возвращаются в стоковое значение. Поддерживается на некоторых видеоускорителях Mali и Vivante.

**Framebuffer boost**:\
При запуске ИИ определит, может ли Framebuffer boost работать на вашем устройстве и напишет об этом в лог. На данный момент эта логика будет использоваться только если есть поддержка GPU Turbo. Framebuffer boost - это ускорение буфера кадров. При ускорении поднимаются частоты кадрового буфера. При активном использовании GPU (нагрузка более 30%) framebuffer boost будет активироваться автоматически, а в результате работы частота обновления экрана будет максимально стабильна.
Логика активна только при ВКЛ экране. При выключенном экране частоты возвращаются в стоковое значение. Поддерживается на большинстве устройств с SoC Qualcomm.

**CPU Turbo**:\
При запуске ИИ определит, может ли CPU Turbo работать на вашем устройстве и напишет об этом в лог. ИИ будет наблюдать за уровнем нагрузки ЦП. При высокой нагрузке в течении продолжительного времени ИИ поднимет отзывчивость регулировщика ЦП и заставит его держать частоту выше 'high speed freq.' (это примерно половина от максимальной частоты ЦП) на ~30 секунд до следующей проверки. В логике нет привязки к имени приложения - нагрузка CPU измеряется напрямую, не важно что его нагружает (игра, бенчмарк и т.п.), делая логику универсальной. Чем выше температура устройства - тем выше порог срабатывания CPU Turbo, чтобы избежать перегрева устройства.
Логика активна только при ВКЛ экране. При выключенном экране параметры возвращаются на изначальные значения. Работает с interactive, ondemand, schedutil и основанными на них регуляторами ЦП.

**Машинное обучение**:\
На данный момент машинное обучение (МО) используется только если есть поддержка CPU и/или GPU Turbo. МО будет изучать как вы используете устройство и подгонять некоторые системные параметры на ходу. Так, если вы много играете - ИИ будет настраивать систему для лучшей производительности. Если вы просто переписываетесь и смотрите видео - ИИ будет настраивать систему для лучшего энергосбережения. Если вы часто делаете и то, и другое - ИИ будет сам решать что делать, для этого и сделано машинное обучение. В приложении FDE можно настроить постоянное предпочтение выбора МО в сторону производительности или энергосбережения.

**Динамическая настройка VM**:\
Каждые ~30 секунд проверяется использование ОЗУ. В зависимости от полученных данных подстраиваются некоторые настройки VM. В результате должно улучшиться управление кешем в оперативной памяти.
Логика активна только при ВКЛ экране.

**Force Doze**:\
Опция доступна для устройств с ОС версии 6.0 и выше (ВЫКЛ по умолчанию). При выключенном экране устройство принудительно переводится в режим глубокой спячки (Doze), затем, через 3 секунды, принудительный режим отменяется и работа Doze продолжается в штатном режиме, оставляя устройство спать.

**Переключатель троттлинга**:\
Опция может быть активирована в настройках (ВЫКЛ по умолчанию). Она включает и отключает троттлинг для ЦП и видеоускорителя. Когда троттлинг отключен - устройство может перегреваться, но производительность будет максимальной даже при длительных нагрузках.

**Контроллер температуры**:\
ИИ проверяет температуру устройства и уведомляет в логе, если оно перегревается. Пороги срабатывания CPU/GPU Турбо рассчитываются полагаясь на данные от этой функции. Если устройство будет перегреваться CPU/GPU Турбо перестанет повышать частоты либо будет делать это гораздо реже.

**Контроллер зарядки**:\
ИИ проверяет, заряжается устройство или нет. Если оно заряжается, ИИ настраивает VM на производительность. После отключения от зарядки ИИ вернет предыдущий режим которому он 'научился'. Force Doze (если активирован) тоже зависит от этой функции предотвращая режим принудительного глубокого сна во время зарядки.
Эта функция не повышает никакие частоты и меняет только настройки VM, поэтому она безопасна и не вызывает дополнительного нагрева устройства.

**Продление цикла жизни батареи**:\
Опция может быть активирована в чате ИИ если поддерживается устройством (ВЫКЛ по умолчанию). Когда опция включена, ИИ следит за уровнем заряда батареи устройства и останавливает зарядку батареи на уровне 90% (по умолчанию). Порог срабатывания можно настроить вручную. Зарядка снова активируется если устройство еще подключено к зарядке и уровень батареи упал на 5% от порога срабатывания. Не заряжая батарею на 100% можно продлить жизнь литиевым батареям.

**"Чат" с ИИ**: (текст в одну строку - 96 символов)\
Начиная с версии 7 в приложении есть возможность переписываться с ИИ. Это можно расценивать либо как еще один метод настройки ИИ, либо просто забавы ради. Распознавание текста происходит поиском по ключевым словам. Опция находится в разработке. Настройки в "чате" отражают настройки в меню приложения.
Что может ассистент:
- Отображение этого сообщения (#help)
- Отображать это сообщение (#help)
- Отображать краткую статистику (#stats)
- Настроить ИИ для доп. производительности (#performance)
- Настроить ИИ для доп. энергосбережения (#powersave)
- Настроить ИИ в режим 'баланс' (#adaptive)
- Активировать постоянный boost для тяжелых игр (#hardgaming)
- Отображать список игр, расцениваемых ИИ как 'тяжелые' (#gamelist)
- Добавлять свои игры в список 'тяжелых' (#addgame 'имя.пакета.игры')
- Очищать весь пользовательский список добавленых 'тяжелых' игр (#purgelist)
- Очищать чат/лог (#clean #chat)
- Закрывать фоновые приложения (#clean #ram)
- Очищать кэш-файлы приложений (#clean #cache)
- Очищать кэш шейдеров GPU (#cleangpu)
- Оптимизировать кэш ART (#art)
- Переключать запуск скрипта стоковых настроек Qualcomm при запуске ОС (#dontqcom / #doqcom)
- Переключать применение твиков build.prop при запуске ОС (#dontbprop / #dobprop)
- Переключать опцию закрытия фоновых приложений при ВЫКЛ экране (#killbgapps / #dontkillbgapps)
- Пропускать применение дополнительных твиков build.prop для GPU при загрузке ОС (#skipgputweak / #gputweakback)
- Переключать работу датчиков/сенсоров устройства в режиме Doze (#toodozed / #dozesensor)
- Переключать метод применения принудительного режима Doze (#alternatedoze / #normaldoze)
- 'Освежать' файловую систему всех разделов устройств - проверка на ошибки и TRIM (#fsrefresh)
- Копировать текущий лог FDE.AI в корень внутренней памяти как текстовый файл (#dumplog)
- Переключать вибрацию при выполнении FDE.AI (#novibro, #vibrate)
- Переключать функцию продления цикла жизни батареи (#greenbattery 'опционально, порог срабатывания', #fullbattery)
- Отвечать на привет/пока и некоторые другие слова не по теме (#hi, #bye)
- Любит хвальбу
- Знает кто папочка
- прочее.
