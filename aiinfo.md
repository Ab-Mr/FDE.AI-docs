### Информация об ИИ
![aire](https://github.com/feravolt/FDE.AI-docs/blob/master/aire.png?raw=true)

Как намекает название, в приложении есть реальный ИИ. Его смысл в том, чтобы понимать сценарии
использования устройства и исходя из этого подгонять различные настройки системы. Также логика тесно
завязана на температуру устройства. Все действия ИИ отображаются в чате. Главный плюс ИИ - нет
дополнительного расхода энергии.

---

#### Включается само когда возможно:

**GPU Turbo**:\
При запуске ИИ определит, может ли GPU Turbo работать на вашем устройстве и напишет об этом в лог.
ИИ будет наблюдать за уровнем нагрузки видео ускорителя. При продолжительной высокой нагрузке ИИ
поднимет частоты до максимума до следующей проверки (~30 секунд). Как только нагрузка упадет,
вернутся стоковые значения. Данная функция не увеличит фреймрейт, но сделает его более стабильным,
потому что регулировщику частот ГП не придется "прыгать" по частотам при смене нагрузки. Здесь нет
привязки к имени приложения - логика универсальна, нагрузка GPU измеряется напрямую, не важно что
его нагружает (игра, бенчмарк и т.п.). При повышении температуры устройства порог срабатывания GPU
Turbo будет повышен, чтобы избежать перегрева устройства. Работает только при включенном экране, при
выключенном частоты возвращаются в стоковые значения. Поддерживается на большинстве видео
ускорителей
Adreno и Mali. Не будет конфликтовать с одноименной логикой от Huawei.

**Legacy GPU Turbo**:\
Данный режим активируется в случае если драйвер в ядре не предоставляет информации о нагрузке GPU.
Отличием от обычного GPU Turbo является то, что ускорение будет происходить опираясь не на нагрузку
GPU, а на наличие запущенного 'тяжелого' процесса/игры из списка. Вы также можете активировать
постоянный режим Legacy GPU Turbo вручную, переключив режим ИИ на производительность. Включите опцию
принудительного буста тяжелых игр, чтобы режим включался автоматически. Работает только при
включенном экране, при выключенном частоты возвращаются в стоковые значения. Поддерживается на
некоторых видео ускорителях Mali и Vivante.

**Framebuffer boost**:\
При запуске ИИ определит, может ли Framebuffer boost работать на вашем устройстве и напишет об этом
в лог. На данный момент эта логика будет использоваться только если есть поддержка GPU Turbo.
Framebuffer boost - это ускорение буфера кадров. При ускорении поднимаются частоты кадрового буфера.
При активном использовании GPU (нагрузка более 30%) framebuffer boost будет активироваться
автоматически, а в результате работы частота обновления экрана будет максимально стабильна. Работает
только при включенном экране, при выключенном частоты возвращаются в стоковые значения.
Поддерживается на большинстве устройств с SoC Qualcomm.

**CPU Turbo**:\
При запуске ИИ определит, может ли CPU Turbo работать на вашем устройстве и напишет об этом в лог.
ИИ будет наблюдать за уровнем нагрузки ЦП. При продолжительной высокой нагрузке ИИ поднимет
отзывчивость регулировщика ЦП и заставит его держать частоту выше 'high speed freq.' (это примерно
половина от максимальной частоты ЦП) до следующей проверки (примерно 30 секунд). В логике нет
привязки к имени приложения - нагрузка CPU измеряется напрямую, не важно что его нагружает (игра,
бенчмарк и т.п.), делая логику универсальной. Чем выше температура устройства - тем выше порог
срабатывания CPU Turbo, чтобы избежать перегрева устройства. Работает только при включенном экране,
при выключенном параметры возвращаются на изначальные значения. Работает с interactive, ondemand,
schedutil и основанными на них регуляторами ЦП.

**Машинное обучение**:\
Сейчас машинное обучение (МО) используется только если есть поддержка CPU и/или GPU Turbo. Оно будет
изучать, как вы используете устройство и подгонять некоторые системные параметры на ходу. Так, если
вы много играете - ИИ будет настраивать систему для лучшей производительности. Если вы просто
переписываетесь и смотрите видео - ИИ будет настраивать систему для лучшего энергосбережения. Если
вы часто делаете и то, и другое - ИИ будет сам решать что делать, для этого и сделано машинное
обучение. В приложении FDE можно настроить постоянное предпочтение выбора МО в сторону
производительности или энергосбережения.

**Динамическая настройка VM**:\
Каждые ~30 секунд проверяется использование ОЗУ. В зависимости от полученных данных подстраиваются
некоторые настройки VM. В результате должно улучшиться управление кешем в оперативной памяти. Так же
будет выводиться предупреждение если доступно слишком мало свободной ОЗУ. Работает только при ВКЛ
экране.

**Контроллер температуры**:\
ИИ проверяет температуру устройства и уведомляет в логе, если оно перегревается. Пороги срабатывания
CPU/GPU Turbo рассчитываются полагаясь на данные от этой функции. Если устройство будет
перегреваться, CPU/GPU Turbo перестанет повышать частоты или станет делать это гораздо реже. Если
температура устройства сильно повысится, тротлинг будет временно активирован независимо от настроек
на время, пока температура немного не спадёт.

**Контроллер зарядки**:\
ИИ проверяет, заряжается устройство или нет. Если оно заряжается, ИИ настраивает VM на
производительность. После отключения от зарядки ИИ вернет предыдущий режим которому он 'научился'.
Force Doze (если активирован) тоже зависит от этой функции, предотвращая уход в принудительный
глубокий сон во время зарядки. Эта функция не повышает никакие частоты и меняет только настройки VM,
поэтому она безопасна и не вызывает дополнительного нагрева устройства. Если будет обнаружено, что
тротлинг был деактивирован пользователем или ИИ (для тяжёлых игр/приложений), он будет активирован
на время пока устройство заряжается. Так же, в продвинутом режиме ИИ, будет определяться активен ли
режим энергосбережения в ОС - если да, ИИ будет автоматически переведен в режим энергосбережения и
не будет активировать режим производительности в таком случае.
